/**
 * @class PID
 * @brief Класс дискретного ПИД-регулятора.
 *
 * Реализует дискретный PID с использованием разностного уравнения.
 */
class PID {
private:
    double K;      /**< Коэффициент усиления */
    double T;      /**< Время интегрирования */
    double Td;     /**< Время дифференцирования */
    double T0;     /**< Шаг дискретизации */

    double q0;     /**< Коэффициент при текущей ошибке */
    double q1;     /**< Коэффициент при предыдущей ошибке */
    double q2;     /**< Коэффициент при ошибке два шага назад */

    double u_prev; /**< Предыдущее управляющее воздействие */
    double e_prev1;/**< Предыдущая ошибка */
    double e_prev2;/**< Ошибка два шага назад */

public:
    /**
     * @brief Конструктор PID-регулятора.
     * @param K Усиление
     * @param T Время интегрирования
     * @param Td Время дифференцирования
     * @param T0 Шаг моделирования
     */
    PID(double K_, double T_, double Td_, double T0_);

    /**
     * @brief Вычисляет новое управляющее воздействие.
     * @param e Текущая ошибка
     * @return Управляющее воздействие
     */
    double compute(double e);
};
